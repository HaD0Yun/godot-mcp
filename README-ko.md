# GoPeak

[![](https://badge.mcpx.dev?type=server 'MCP Server')](https://modelcontextprotocol.io/introduction)
[![Made with Godot](https://img.shields.io/badge/Made%20with-Godot-478CBF?style=flat&logo=godot%20engine&logoColor=white)](https://godotengine.org)
[![](https://img.shields.io/badge/Node.js-339933?style=flat&logo=nodedotjs&logoColor=white 'Node.js')](https://nodejs.org/en/download/)
[![](https://img.shields.io/badge/TypeScript-3178C6?style=flat&logo=typescript&logoColor=white 'TypeScript')](https://www.typescriptlang.org/)
[![npm](https://img.shields.io/npm/v/gopeak?style=flat&logo=npm&logoColor=white 'npm')](https://www.npmjs.com/package/gopeak)

[![](https://img.shields.io/github/last-commit/HaD0Yun/godot-mcp 'Last Commit')](https://github.com/HaD0Yun/godot-mcp/commits/main)
[![](https://img.shields.io/github/stars/HaD0Yun/godot-mcp 'Stars')](https://github.com/HaD0Yun/godot-mcp/stargazers)
[![](https://img.shields.io/github/forks/HaD0Yun/godot-mcp 'Forks')](https://github.com/HaD0Yun/godot-mcp/network/members)
[![](https://img.shields.io/badge/License-MIT-red.svg 'MIT License')](https://opensource.org/licenses/MIT)

🌐 **언어 선택**: [English](README.md) | **한국어** | [简体中文](README-zh.md) | [日本語](README-ja.md) | [Deutsch](README-de.md) | [Português](README-pt_BR.md)

```text
                           (((((((             (((((((                          
                        (((((((((((           (((((((((((                      
                        (((((((((((((       (((((((((((((                       
                        (((((((((((((((((((((((((((((((((                       
                        (((((((((((((((((((((((((((((((((                       
         (((((      (((((((((((((((((((((((((((((((((((((((((      (((((        
       (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((      
     ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((    
    ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((    
      (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((     
        (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((       
         (((((((((((@@@@@@@(((((((((((((((((((((((((((@@@@@@@(((((((((((        
         (((((((((@@@@,,,,,@@@(((((((((((((((((((((@@@,,,,,@@@@(((((((((        
         ((((((((@@@,,,,,,,,,@@(((((((@@@@@(((((((@@,,,,,,,,,@@@((((((((        
         ((((((((@@@,,,,,,,,,@@(((((((@@@@@(((((((@@,,,,,,,,,@@@((((((((        
         (((((((((@@@,,,,,,,@@((((((((@@@@@((((((((@@,,,,,,,@@@(((((((((        
         ((((((((((((@@@@@@(((((((((((@@@@@(((((((((((@@@@@@((((((((((((        
         (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((        
         (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((        
         @@@@@@@@@@@@@((((((((((((@@@@@@@@@@@@@((((((((((((@@@@@@@@@@@@@        
         ((((((((( @@@(((((((((((@@(((((((((((@@(((((((((((@@@ (((((((((        
         (((((((((( @@((((((((((@@@(((((((((((@@@((((((((((@@ ((((((((((        
          (((((((((((@@@@@@@@@@@@@@(((((((((((@@@@@@@@@@@@@@(((((((((((         
           (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((          
              (((((((((((((((((((((((((((((((((((((((((((((((((((((             
                 (((((((((((((((((((((((((((((((((((((((((((((((                
                        (((((((((((((((((((((((((((((((((                       
                                                                                


        /$$$$$$             /$$$$$$$                      /$$      
       /$$__  $$           | $$__  $$                    | $$      
      | $$  \__/  /$$$$$$ | $$  \ $$ /$$$$$$   /$$$$$$$ | $$  /$$/
      | $$ /$$$$//$$__  $$| $$$$$$$//$$__  $$ |____  $$ | $$ /$$/ 
      | $$|_  $$| $$  \ $$| $$____/| $$$$$$$$  /$$$$$$$ | $$$$$/  
      | $$  \ $$| $$  | $$| $$     | $$_____/ /$$__  $$ | $$  $$  
      |  $$$$$$/|  $$$$$$/| $$     |  $$$$$$ |  $$$$$$$ | $$\  $$ 
       \______/  \______/ |__/      \______/  \_______/ |__/ \__/ 
```

**Godot 엔진을 위한 가장 포괄적인 Model Context Protocol (MCP) 서버 — AI 어시스턴트가 전례 없는 깊이와 정밀도로 Godot 게임을 빌드, 수정, 디버그할 수 있도록 지원합니다.**

> **자동 리로드 기능 추가!** MCP로 외부에서 파일을 수정하면 Godot 에디터에서 씬과 스크립트가 자동으로 새로고침됩니다.

---

## GoPeak를 사용해야 하는 이유

### 🚀 게임 개발 워크플로우의 혁신

GoPeak는 단순한 도구가 아닙니다 — AI 어시스턴트가 게임 엔진과 상호작용하는 방식의 **패러다임 전환**입니다.

#### 1. **Godot를 진정으로 이해하는 AI**

기존 AI 어시스턴트는 GDScript를 작성할 수 있지만, 실질적으로 눈 감고 작업하는 것과 다름없습니다. 훈련 데이터를 기반으로 코드를 생성하며, 작동하기를 바랄 뿐입니다. **GoPeak는 모든 것을 바꿉니다:**

- **실시간 피드백 루프**: "프로젝트를 실행하고 오류를 보여줘"라고 요청하면 AI가 실제로 프로젝트를 실행하고, 출력을 캡처하며, 무엇이 잘못됐는지 정확히 파악합니다
- **컨텍스트 인식 지원**: AI가 실제 씬 트리를 검사하고, 노드 계층 구조를 이해하며, 실제 프로젝트 구조를 기반으로 제안을 제공합니다
- **제안 전 검증**: 리소스 사용을 제안하기 전에 AI가 프로젝트에 해당 리소스가 존재하는지 확인합니다

#### 2. **동적 ClassDB 인트로스펙션을 포함한 95개 이상의 도구**

모든 Godot 클래스에 대해 도구를 하드코딩하는 대신, GoPeak는 ANY ClassDB 클래스와 함께 작동하는 **범용 도구**(`add_node`, `create_resource`)를 제공하며, AI가 클래스, 속성, 메서드를 동적으로 발견할 수 있는 **ClassDB 인트로스펙션 도구**도 포함됩니다.

| 카테고리 | 가능한 작업 | 도구 |
|----------|------------|------|
| **씬 관리** | 프로그래밍 방식으로 전체 씬 트리 구성 | `create_scene`, `add_node`, `delete_node`, `duplicate_node`, `reparent_node`, `list_scene_nodes`, `get_node_properties`, `set_node_properties` |
| **ClassDB 인트로스펙션** | Godot 클래스, 속성, 메서드, 시그널 동적 발견 | `query_classes`, `query_class_info`, `inspect_inheritance` |
| **GDScript 작업** | 정밀하게 스크립트 작성 및 수정 | `create_script`, `modify_script`, `get_script_info` |
| **리소스 관리** | 모든 리소스 유형 생성, 기존 리소스 수정 | `create_resource`, `modify_resource`, `create_material`, `create_shader` |
| **애니메이션 시스템** | 애니메이션 및 상태 머신 구성 | `create_animation`, `add_animation_track`, `create_animation_tree`, `add_animation_state`, `connect_animation_states` |
| **2D 타일 시스템** | 타일셋 생성 및 타일맵 채우기 | `create_tileset`, `set_tilemap_cells` |
| **시그널 관리** | 게임의 이벤트 시스템 연결 | `connect_signal`, `disconnect_signal`, `list_connections` |
| **프로젝트 설정** | 설정, 오토로드, 입력 관리 | `get_project_setting`, `set_project_setting`, `add_autoload`, `add_input_action` |
| **개발자 경험** | 프로젝트 분석, 디버그, 유지보수 | `get_dependencies`, `find_resource_usages`, `parse_error_log`, `get_project_health`, `search_project` |
| **런타임 디버깅** | 실행 중인 게임 검사 및 수정 | `inspect_runtime_tree`, `set_runtime_property`, `call_runtime_method`, `get_runtime_metrics` |
| **스크린샷 캡처** | 실행 중인 게임 뷰포트 캡처 | `capture_screenshot`, `capture_viewport` |
| **입력 주입** | 키보드, 마우스, 액션 입력 시뮬레이션 | `inject_action`, `inject_key`, `inject_mouse_click`, `inject_mouse_motion` |
| **GDScript LSP** | Godot 내장 언어 서버를 통한 진단, 자동완성, 호버, 심볼 | `lsp_get_diagnostics`, `lsp_get_completions`, `lsp_get_hover`, `lsp_get_symbols` |
| **디버그 어댑터 (DAP)** | 중단점, 스텝 실행, 스택 추적, 디버그 출력 캡처 | `dap_get_output`, `dap_set_breakpoint`, `dap_continue`, `dap_step_over`, `dap_get_stack_trace` |
| **MCP 리소스** | `godot://` URI를 통한 프로젝트 파일 접근 | `godot://project/info`, `godot://scene/{path}`, `godot://script/{path}` |
| **오디오 시스템** | 오디오 버스 생성, 이펙트 설정 | `create_audio_bus`, `get_audio_buses`, `set_audio_bus_effect`, `set_audio_bus_volume` |
| **내비게이션** | AI 경로찾기 설정 | `create_navigation_region`, `create_navigation_agent` |
| **UI/테마** | 셰이더를 포함한 커스텀 테마 생성 및 적용 | `set_theme_color`, `set_theme_font_size`, `apply_theme_shader` |
| **에셋 라이브러리** | 여러 소스에서 CC0 에셋 검색 및 다운로드 | `search_assets`, `fetch_asset`, `list_asset_providers` |
| **자동 리로드** | 외부 변경 시 에디터 즉시 새로고침 | 내장 에디터 플러그인 |

> **설계 철학**: 90개 이상의 전문 도구(`create_camera`, `create_light`, `create_physics_material` 등)를 제공하는 대신, GoPeak는 ANY Godot 클래스와 함께 작동하는 범용 `add_node` 및 `create_resource` 도구를 사용합니다. AI는 `query_classes`로 사용 가능한 유형을 발견하고, `query_class_info`로 속성을 학습합니다 — 개발자가 Godot 문서를 사용하는 것처럼요.

#### 3. **자동 리로드를 통한 원활한 에디터 통합**

포함된 **자동 리로드 플러그인**이 외부 편집의 마찰을 없애줍니다:

- **수동 새로고침 불필요**: MCP가 씬이나 스크립트를 수정하면 Godot 에디터가 자동으로 리로드
- **1초 감지**: 성능 영향이 미미한 경량 폴링 (~0.01ms/초)
- **스마트 감시**: 열린 씬과 연결된 스크립트 모두 모니터링
- **설정 불필요**: 플러그인만 활성화하면 끝

```
MCP가 파일 수정 → 자동 리로드 감지 → 에디터 리로드 → 즉시 결과 확인
```

#### 4. **복사-붙여넣기-디버그 사이클 제거**

**GoPeak 이전:**
1. AI에게 코드 요청
2. 프로젝트에 코드 복사
3. 프로젝트 실행, 오류 발생
4. AI에게 오류 복사
5. 수정 받아서 붙여넣기
6. 10번 이상 반복

**GoPeak 사용 시:**
1. "체력, 이동, 점프 기능이 있는 플레이어 캐릭터 만들어줘"
2. AI가 씬 생성, 스크립트 작성, 노드 추가, 시그널 연결, 테스트까지 완료
3. 끝.

AI가 코드만 작성하는 게 아니라 **기능을 처음부터 끝까지 구현**합니다.

#### 5. **타입 안전하고 오류에 강한 작업**

GoPeak의 모든 작업에는 다음이 포함됩니다:

- **경로 검증**: 잘못된 파일 작업 방지
- **타입 직렬화**: Vector2, Vector3, Color, Transform 및 모든 Godot 타입 올바르게 처리
- **오류 복구**: 수정 제안이 포함된 의미 있는 오류 메시지
- **원자적 작업**: 변경이 일관되게 적용되거나 전혀 적용되지 않음

예시: 노드의 위치를 설정할 때 GoPeak는:
1. 씬 존재 여부 검증
2. 노드 경로 검증
3. `{"x": 100, "y": 200}`을 `Vector2(100, 200)`으로 역직렬화
4. 속성 설정
5. 씬 저장
6. 성공 확인 또는 무엇이 잘못됐는지 정확히 보고

#### 6. **프로젝트 상태 지능**

`get_project_health` 도구는 프로젝트에 대한 포괄적인 분석을 제공합니다:

```json
{
  "score": 85,
  "grade": "B",
  "checks": {
    "structure": { "passed": true },
    "resources": { "issues": ["텍스처 3개 재임포트 필요"] },
    "scripts": { "issues": ["TODO 주석 5개 발견"] },
    "config": { "passed": true }
  },
  "recommendations": [
    "대상 플랫폼에 대한 내보내기 프리셋 설정",
    "릴리즈 전 TODO 항목 검토 및 해결"
  ]
}
```

이것은 AI 어시스턴트를 **실제로 Godot 프로젝트를 이해하는 코드 리뷰어**로 만들어줍니다.

#### 7. **의존성 분석 및 순환 참조 감지**

순환 의존성으로 프로젝트가 망가진 적 있으신가요? `get_dependencies` 도구는:

- 프로젝트의 모든 리소스 의존성을 매핑
- 런타임 오류가 발생하기 전에 순환 참조 감지
- 모든 리소스에 대한 완전한 의존성 체인 표시

```
PlayerScene.tscn
├── PlayerScript.gd
│   └── WeaponBase.gd
│       └── ⚠️ 순환: PlayerScript.gd
└── PlayerSprite.png
```

#### 8. **라이브 런타임 디버깅 (선택적 애드온)**

포함된 `godot_mcp_runtime` 애드온을 설치하면:

- **라이브 씬 트리 검사**: 게임이 실행되는 동안 실제 노드 트리 확인
- **핫 속성 수정**: 재시작 없이 실시간으로 값 변경
- **원격 메서드 호출**: 실행 중인 게임에서 함수 트리거
- **성능 모니터링**: FPS, 메모리, 드로우 콜 등 추적

이것은 디버깅을 "print 문 추가하고 재시작"에서 "즉시 검사하고 수정"으로 바꿔줍니다.

### 💡 실제 사용 사례

#### **빠른 프로토타이핑**
```
"이동, 점프, 코인 수집이 가능한 기본 플랫포머 만들어줘"
```
AI가 씬, 스크립트, 노드, 시그널, 입력 액션을 생성합니다 — 몇 분 안에 플레이 가능한 프로토타입 완성.

#### **대규모 리팩토링**
```
"오래된 PlayerData 리소스를 사용하는 모든 곳을 찾아서 새로운 PlayerStats로 업데이트해줘"
```
전체 프로젝트를 검색하고, 모든 참조를 식별하여 일관된 변경 적용.

#### **복잡한 문제 디버깅**
```
"플레이어가 바닥을 통과해. 충돌 설정을 확인하고 뭐가 문제인지 알려줘"
```
노드 속성 검사, 씬 구조 분석, 설정 문제 식별.

#### **Godot 학습**
```
"버튼을 클릭하면 레이블 텍스트가 바뀌는 예시를 만들어서 시그널이 어떻게 작동하는지 보여줘"
```
설명만 하는 게 아니라, 실제 프로젝트에 작동하는 예시를 구현.

#### **대형 프로젝트 유지보수**
```
"프로젝트 상태 검사를 실행하고 주의가 필요한 게 뭔지 알려줘"
```
프로젝트 구조, 사용하지 않는 리소스, 잠재적 문제에 대한 실행 가능한 인사이트 제공.

---

## 기능

### 핵심 기능
- **Godot 에디터 실행**: 특정 프로젝트의 Godot 에디터 열기
- **Godot 프로젝트 실행**: 디버그 모드로 Godot 프로젝트 실행
- **디버그 출력 캡처**: 콘솔 출력 및 오류 메시지 가져오기
- **실행 제어**: 프로그래밍 방식으로 Godot 프로젝트 시작 및 중지
- **Godot 버전 가져오기**: 설치된 Godot 버전 가져오기
- **Godot 프로젝트 목록**: 지정된 디렉토리에서 Godot 프로젝트 찾기
- **프로젝트 분석**: 프로젝트 구조에 대한 자세한 정보 가져오기

### 씬 관리
- 지정된 루트 노드 유형으로 새 씬 생성
- 노드 추가, 삭제, 복제, 재부모화
- 타입 안전 직렬화로 노드 속성 설정
- 전체 계층 구조로 씬 트리 구조 나열
- Sprite2D 노드에 스프라이트와 텍스처 로드
- GridMap용 MeshLibrary 리소스로 3D 씬 내보내기

### GDScript 작업
- **스크립트 생성**: 템플릿(singleton, state_machine, component, resource)으로 새 GDScript 파일 생성
- **스크립트 수정**: 기존 스크립트에 함수, 변수, 시그널 추가
- **스크립트 분석**: 스크립트 구조, 의존성, 내보내기에 대한 자세한 정보 가져오기

### 시그널 및 연결 관리
- 씬의 노드 간 시그널 연결
- 시그널 연결 해제
- 씬의 모든 시그널 연결 나열

### ClassDB 인트로스펙션 (신규!)
- **클래스 쿼리**: 이름, 카테고리(node, node2d, node3d, control, resource 등), 인스턴스 가능 여부로 필터링하여 사용 가능한 Godot 클래스 발견
- **클래스 정보 쿼리**: 모든 클래스의 자세한 메서드, 속성, 시그널, 열거형 가져오기
- **상속 검사**: 클래스 계층 탐색 — 조상, 자식, 모든 후손

### 리소스 관리
- **리소스 생성**: .tres 파일로 ANY 리소스 유형 생성 (전문 create_* 도구 대체)
- **리소스 수정**: 기존 .tres/.res 파일의 속성 업데이트
- **재질 생성**: StandardMaterial3D, ShaderMaterial, CanvasItemMaterial, ParticleProcessMaterial
- **셰이더 생성**: 템플릿이 있는 canvas_item, spatial, particles, sky, fog 셰이더

### 애니메이션 시스템
- AnimationPlayer 노드에서 새 애니메이션 생성
- 애니메이션에 속성 및 메서드 트랙 추가
- 적절한 값 직렬화로 키프레임 삽입

### 2D 타일 시스템
- 아틀라스 텍스처 소스로 TileSet 리소스 생성
- 프로그래밍 방식으로 TileMap 셀 설정

### 임포트/익스포트 파이프라인
- 리소스의 임포트 상태 및 옵션 가져오기
- 임포트 설정 수정 및 재임포트 트리거
- 내보내기 프리셋 나열 및 내보내기용 프로젝트 검증
- Godot CLI를 사용하여 프로젝트 내보내기

### 프로젝트 설정
- 프로젝트 설정 가져오기 및 설정
- 오토로드 싱글톤 관리 (추가, 제거, 나열)
- 메인 씬 설정
- 키, 마우스, 조이패드 이벤트로 입력 액션 추가

### 플러그인 관리
- 상태와 함께 설치된 플러그인 나열
- 플러그인 활성화 및 비활성화

### 개발자 경험
- **의존성 분석**: 순환 참조 감지가 있는 리소스 의존성 그래프 가져오기
- **리소스 사용 찾기**: 프로젝트 전체에서 리소스의 모든 사용 찾기
- **오류 로그 파서**: 제안이 있는 Godot 오류 로그 파싱
- **프로젝트 상태 검사**: 점수화가 있는 포괄적인 프로젝트 분석
- **프로젝트 검색**: 모든 프로젝트 파일에서 텍스트/패턴 검색

### 런타임 연결 (선택적 애드온)
- 실시간 씬 트리 검사
- 라이브 속성 수정
- 원격 메서드 호출
- 성능 메트릭 모니터링
- 시그널 감시

### 스크린샷 캡처 (신규!)
- 실행 중인 게임의 뷰포트를 base64 PNG/JPG 이미지로 캡처
- 크기가 조정된 캡처를 위한 대상 해상도 지정
- 노드 경로로 특정 뷰포트 캡처

### 입력 주입 (신규!)
- 자동화 테스트를 위한 Godot 입력 액션 시뮬레이션 (누르기/놓기)
- 수정자 지원(Shift, Ctrl, Alt)으로 키보드 키 이벤트 주입
- 마우스 클릭 시뮬레이션 (왼쪽/오른쪽/가운데, 단일/더블)
- 마우스 이동 시뮬레이션 (절대 및 상대)

### GDScript 언어 서버 (신규!)
- Godot 내장 LSP에서 실시간 진단(오류/경고) 가져오기
- GDScript 파일의 모든 위치에서 코드 자동완성
- 심볼, 함수, 변수에 대한 호버 정보
- 탐색을 위한 문서 심볼 개요
- Godot 에디터 LSP에 지연 연결 (포트 6005)

### 디버그 어댑터 프로토콜 (신규!)
- 실행 중인 Godot 게임에서 디버그 콘솔 출력 캡처
- GDScript 파일에서 중단점 설정 및 제거
- 실행 스텝 오버, 계속, 일시 중지
- 중단점에서 스택 추적 검사
- Godot 내장 DAP에 지연 연결 (포트 6006)

### MCP 리소스 (신규!)
- `godot://` URI 프로토콜을 통해 Godot 프로젝트 파일 접근
- `godot://project/info` — JSON으로 파싱된 project.godot 메타데이터
- `godot://scene/{path}` — .tscn 씬 파일 읽기
- `godot://script/{path}` — .gd 스크립트 파일 읽기
- `godot://resource/{path}` — .tres/.tscn/.gd 파일 읽기
- 경로 탐색 보호 내장

### UID 관리 (Godot 4.4+)
- 특정 파일의 UID 가져오기
- 리소스 재저장으로 UID 참조 업데이트

### 다중 소스 에셋 라이브러리 (CC0)
- **통합 검색**: 여러 CC0 에셋 공급자에서 3D 모델, 텍스처, HDRI 검색
- **자동 다운로드**: Godot 프로젝트에 직접 에셋 가져오기
- **공급자 우선순위**: Poly Haven → AmbientCG → Kenney 순서로 검색
- **저작권 추적**: 적절한 저작권 표시를 위한 자동 CREDITS.md 생성

**지원 공급자:**

| 공급자 | 에셋 유형 | 라이선스 |
|--------|----------|---------|
| [Poly Haven](https://polyhaven.com) | 모델, 텍스처, HDRI | CC0 |
| [AmbientCG](https://ambientcg.com) | 텍스처, 모델, HDRI | CC0 |
| [Kenney](https://kenney.nl) | 모델, 텍스처, 2D, 오디오 | CC0 |

---

## 요구사항

- 시스템에 [Godot Engine 4.x](https://godotengine.org/download) 설치
- Node.js 18+ 및 npm
- MCP를 지원하는 AI 어시스턴트 (Claude Desktop, Cline, Cursor, OpenCode 등)

---

## 설치 및 설정

### 🚀 원클릭 설치 (권장)

**Linux / macOS**
```bash
curl -sL https://raw.githubusercontent.com/HaD0Yun/godot-mcp/main/install.sh | bash
```

이 스크립트는:
- ✅ 사전 요구사항 확인 (Git, Node.js 18+, npm)
- ✅ `~/.local/share/godot-mcp`에 저장소 클론
- ✅ 자동으로 의존성 설치 및 빌드
- ✅ Godot 설치 자동 감지
- ✅ AI 어시스턴트 설정 지침 표시

**고급 옵션:**
```bash
# 사용자 정의 설치 디렉토리
curl -sL https://raw.githubusercontent.com/HaD0Yun/godot-mcp/main/install.sh | bash -s -- --dir ~/my-godot-mcp

# Godot 경로 지정
curl -sL https://raw.githubusercontent.com/HaD0Yun/godot-mcp/main/install.sh | bash -s -- --godot /usr/bin/godot4

# 특정 AI 어시스턴트 설정 가져오기
curl -sL https://raw.githubusercontent.com/HaD0Yun/godot-mcp/main/install.sh | bash -s -- --configure claude
```

---

### npm으로 설치 (가장 빠름)

```bash
npx gopeak
```

또는 전역 설치:
```bash
npm install -g gopeak
gopeak
```

---

### 수동 설치

#### 1단계: 설치 및 빌드

```bash
git clone https://github.com/HaD0Yun/godot-mcp.git
cd godot-mcp
npm install
npm run build
```

#### 2단계: AI 어시스턴트와 설정

**Cline (VS Code):**
```json
{
  "mcpServers": {
    "godot": {
      "command": "node",
      "args": ["/absolute/path/to/godot-mcp/build/index.js"],
      "env": {
        "GODOT_PATH": "/path/to/godot",
        "DEBUG": "true"
      },
      "disabled": false
    }
  }
}
```

**Claude Desktop:**
```json
{
  "mcpServers": {
    "godot": {
      "command": "node",
      "args": ["/absolute/path/to/godot-mcp/build/index.js"],
      "env": {
        "GODOT_PATH": "/path/to/godot"
      }
    }
  }
}
```

**OpenCode:**
```json
{
  "mcp": {
    "godot": {
      "type": "local",
      "command": ["node", "/absolute/path/to/godot-mcp/build/index.js"],
      "enabled": true,
      "environment": {
        "GODOT_PATH": "/path/to/godot"
      }
    }
  }
}
```

### 3단계: 환경 변수

| 변수 | 설명 |
|------|------|
| `GODOT_PATH` | Godot 실행 파일 경로 (설정하지 않으면 자동 감지) |
| `DEBUG` | 자세한 로깅을 위해 "true"로 설정 |

---

## 예시 프롬프트

설정이 완료되면 자연어로 Godot를 제어할 수 있습니다:

### 씬 구성
```
"CharacterBody2D 루트 노드로 Player라는 새 씬 만들어줘"
"내 Player 씬에 Sprite2D와 CollisionShape2D 추가해줘"
"Enemy 노드를 복제하고 Enemy2로 이름 붙여줘"
```

### 스크립트 작업
```
"이동과 점프가 있는 플레이어용 GDScript 만들어줘"
"플레이어 스크립트에 health_changed 시그널을 내보내는 take_damage 함수 추가해줘"
"내 PlayerController 스크립트 구조 보여줘"
```

### 리소스 관리
```
"적을 위한 빨간 StandardMaterial3D 만들어줘"
"용해 효과가 있는 canvas_item 셰이더 만들어줘"
"16x16 타일로 tilemap_atlas.png에서 TileSet 생성해줘"
```

### 프로젝트 분석
```
"프로젝트 상태를 확인하고 문제점 보여줘"
"PlayerData 리소스를 사용하는 모든 파일 찾아줘"
"내 메인 씬의 의존성 그래프 보여줘"
```

### 디버깅
```
"프로젝트 실행하고 오류 보여줘"
"Godot 오류 로그를 파싱하고 수정 제안해줘"
"실행 중인 게임의 씬 트리 검사해줘"
```

---

## 포함된 애드온

### 자동 리로드 플러그인 (권장)

**MCP 워크플로우에 필수** - 외부에서 수정할 때 씬과 스크립트를 자동으로 리로드합니다.

**Linux / macOS:**
```bash
# Godot 프로젝트 폴더에서 실행
curl -sL https://raw.githubusercontent.com/HaD0Yun/godot-mcp/main/install-addon.sh | bash
```

**수동 설치:**
1. `build/addon/auto_reload`를 프로젝트의 `addons/` 폴더에 복사
2. Godot에서 프로젝트 열기
3. **Project > Project Settings > Plugins**으로 이동
4. "Godot MCP Auto Reload" 활성화

**⚠️ 주의**: 씬을 에디터에서 AND 외부에서 동시에 수정하면 에디터 변경사항이 손실됩니다.

---

## 아키텍처

GoPeak는 하이브리드 아키텍처를 사용합니다:

1. **직접 CLI 명령**: 간단한 작업은 Godot의 내장 CLI 사용
2. **번들 GDScript**: 복잡한 작업은 ClassDB 인트로스펙션이 있는 포괄적인 `godot_operations.gd` 스크립트 사용
3. **런타임 애드온**: 라이브 디버깅, 스크린샷 캡처, 입력 주입을 위한 TCP 서버 (포트 7777)
4. **Godot LSP 통합**: GDScript 진단을 위해 Godot 에디터의 언어 서버(포트 6005)에 연결
5. **Godot DAP 통합**: 중단점 및 스텝 실행을 위해 Godot의 디버그 어댑터(포트 6006)에 연결
6. **MCP 리소스**: 직접 프로젝트 파일 접근을 위한 `godot://` URI 프로토콜

---

## 문제 해결

| 문제 | 해결 방법 |
|------|----------|
| Godot를 찾을 수 없음 | `GODOT_PATH` 환경 변수 설정 |
| 연결 문제 | AI 어시스턴트 재시작 |
| 잘못된 프로젝트 경로 | 경로에 `project.godot`가 포함되어 있는지 확인 |
| 빌드 오류 | `npm install`을 실행하여 의존성 설치 |
| 런타임 도구가 작동하지 않음 | 프로젝트에 애드온 설치 및 활성화 |

---

## 기여

기여를 환영합니다! [CONTRIBUTING.md](CONTRIBUTING.md) 가이드를 읽어주세요.

---

## 라이선스

MIT 라이선스 - 자세한 내용은 [LICENSE](LICENSE)를 참조하세요.

---

## 통계

- **95개 이상의 도구** — 씬 관리, 스크립팅, 리소스, 애니메이션, 설정, 디버깅, 스크린샷, 입력 주입, LSP, DAP, 에셋 관리를 포괄하는 종합적인 도구
- **MCP 리소스** — 직접 프로젝트 파일 접근을 위한 `godot://` URI 프로토콜
- **GDScript LSP** — Godot 언어 서버를 통한 실시간 진단, 자동완성, 호버, 심볼
- **디버그 어댑터 (DAP)** — 중단점, 스텝 실행, 스택 추적, 콘솔 출력 캡처
- **스크린샷 캡처** — 런타임 애드온을 통한 실행 중인 게임 뷰포트 캡처
- **입력 주입** — 자동화 테스트를 위한 키보드, 마우스, 액션 시뮬레이션
- **ClassDB 인트로스펙션** — AI가 하드코딩된 도구 정의에 의존하는 대신 Godot 클래스, 속성, 메서드를 동적으로 발견
- **20,000줄 이상**의 TypeScript 및 GDScript
- **약 85% 커버리지**의 Godot Engine 기능
- **Godot 4.x** 완전 지원 (4.4+ UID 기능 포함)
- **자동 리로드** 플러그인으로 원활한 MCP 통합
- **다중 소스 에셋 라이브러리** — Poly Haven, AmbientCG, Kenney의 CC0 에셋
- **npm 패키지** — `npx gopeak` 또는 `npm install -g gopeak`으로 설치

---

## 크레딧

- 원본 MCP 서버: [Coding-Solo](https://github.com/Coding-Solo/godot-mcp)
- 자동 리로드 플러그인 및 통합 패키지: [HaD0Yun](https://github.com/HaD0Yun)
